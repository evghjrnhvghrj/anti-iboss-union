<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sharing Page | anti-iboss-union</title>
  <style>
    body {
      font-family: 'Courier New', monospace;
      background-color: #000;
      color: #00ffcc;
      padding: 2em;
    }
    h1 {
      text-align: center;
    }
    input, button, textarea {
      font-family: inherit;
      margin: 0.5em 0;
      padding: 0.5em;
      border: 1px solid #00ffcc;
      background: #111;
      color: #00ffcc;
      border-radius: 5px;
    }
    button {
      cursor: pointer;
      background-color: #00ffcc;
      color: #000;
      font-weight: bold;
    }
    .post {
      border: 1px solid #00ffcc;
      padding: 1em;
      margin: 1em 0;
    }
    .comment {
      margin-left: 1em;
      padding: 0.5em;
      border-left: 2px solid #00ffcc;
    }
    #adminPanel {
      display: none;
      margin-top: 2em;
      border-top: 1px solid #00ffcc;
      padding-top: 1em;
    }
  </style>
</head>
<body>
  <h1>ðŸ“¡ Share Intel</h1>
  <input type="text" id="newUrl" placeholder="Enter website URL" />
  <button onclick="shareUrl()">Share</button>

  <div>
    <input type="text" id="adminCodeInput" placeholder="Enter secret admin code" />
    <button onclick="verifyAdmin()">Verify Admin</button>
  </div>

  <div id="adminPanel">
    <p>ðŸ”’ Admin Tools Enabled</p>
    <p>Click delete to remove posts or individual comments.</p>
  </div>

  <div id="posts"></div>

  <script>
    const postsContainer = document.getElementById('posts');
    const adminPanel = document.getElementById('adminPanel');
    let isAdmin = false;
    const ADMIN_SECRET = 'delete4freedom';

    let sharedPosts = JSON.parse(localStorage.getItem('sharedPosts')) || [];

    function savePosts() {
      localStorage.setItem('sharedPosts', JSON.stringify(sharedPosts));
    }

    function renderPosts() {
      postsContainer.innerHTML = '';
      sharedPosts.forEach((post, postIndex) => {
        const postDiv = document.createElement('div');
        postDiv.className = 'post';

        const link = document.createElement('a');
        link.href = post.url;
        link.target = '_blank';
        link.textContent = post.url;
        postDiv.appendChild(link);

        if (isAdmin) {
          const deletePostBtn = document.createElement('button');
          deletePostBtn.textContent = 'ðŸ—‘ Delete Post';
          deletePostBtn.onclick = () => {
            sharedPosts.splice(postIndex, 1);
            savePosts();
            renderPosts();
          };
          postDiv.appendChild(deletePostBtn);
        }

        const commentInput = document.createElement('input');
        commentInput.placeholder = 'Add a comment';
        const commentBtn = document.createElement('button');
        commentBtn.textContent = 'Comment';
        commentBtn.onclick = () => {
          const comment = commentInput.value.trim();
          if (comment) {
            post.comments.push(comment);
            savePosts();
            renderPosts();
          }
        };
        postDiv.appendChild(document.createElement('br'));
        postDiv.appendChild(commentInput);
        postDiv.appendChild(commentBtn);

        post.comments.forEach((comment, commentIndex) => {
          const commentDiv = document.createElement('div');
          commentDiv.className = 'comment';
          commentDiv.textContent = comment;

          if (isAdmin) {
            const deleteCommentBtn = document.createElement('button');
            deleteCommentBtn.textContent = 'ðŸ—‘';
            deleteCommentBtn.onclick = () => {
              post.comments.splice(commentIndex, 1);
              savePosts();
              renderPosts();
            };
            commentDiv.appendChild(deleteCommentBtn);
          }

          postDiv.appendChild(commentDiv);
        });

        postsContainer.appendChild(postDiv);
      });
    }

    function shareUrl() {
      const url = document.getElementById('newUrl').value.trim();
      if (url) {
        sharedPosts.push({ url, comments: [] });
        savePosts();
        renderPosts();
        document.getElementById('newUrl').value = '';
      }
    }

    function verifyAdmin() {
      const code = document.getElementById('adminCodeInput').value.trim();
      if (code === ADMIN_SECRET) {
        isAdmin = true;
        adminPanel.style.display = 'block';
        renderPosts();
      } else {
        alert('Wrong code. Access denied.');
      }
    }

    renderPosts();
  </script>
</body>
</html>
